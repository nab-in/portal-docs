---
id: users
title: Users
---

## Welcome to the user module API specification

- This section will define APIs for the users feature/module. It will include API documentation for all CRUD operations involving a user.

A single user object, has the following keys

| Key         | Description                                                         | Required      | Type        |
| ----------- | ------------------------------------------------------------------- | ------------- | ----------- |
| id          | Unique identifier(Autogenerated)                                    | Autogenerated | Number      |
| uid         | 13 varying characters <br /> used for CRUD operations               | NO            | String(UID) |
| firstname   | Defines the user's given first name                                 | YES           | String      |
| lastname    | Defines the user's given last name                                  | YES           | String      |
| lastname    | Defines the user's unique username across the system                | YES           | String      |
| verified    | If a user verified themselves by using an email address or phone    | NO            | Boolean     |
| enabled     | A user might be or might not be enabled depending on their activity | NO            | Boolean     |
| company     | User's company of any                                               | NO            | String      |
| created     | User's date of creation                                             | NO            | Date        |
| lastupdated | User's date for when it was last updated                            | NO            | Date        |
| email       | Contact person's address                                            | NO            | String      |

## Creating users

- Crud operations involving creating a single user, can be done in two ways,

  - A standalone user, these will mainly be job seekers
  - A user who belongs to a company

_Method: POST_

### Registering a User

`Endpoint`

```JS
/api/users/register
```

`Request Payload`

```JSON
{
    "firstname":"Portal",
    "password": "yourstrongpassword",
    "lastname":"Admin",
    "username":"admin",
    "email": "admin@portal.social",
}
```

`Response`

- These responses can vary depending on success and failure however, to here we will show the success reponse.

```JSON
{
  "message": "Item successfully created",
  "payload": {
    "id": "iHWO6i7JFTI8Y",
    "created": "2021-04-26T09:06:47.990Z",
    "lastupdated": "2021-04-26T09:06:47.990Z",
    "firstname": "Portal",
    "email": "admin@portal.social",
    "lastname": "Admin",
    "username": "admin",
    "verified": false,
    "enabled": true
  }
}
```

<p> <strong>NOTE</strong>: By default, a user will be enabled and not verified when they first signup. After verifying their email address, a user will be verified.</p>

### Creating a user who belongs to a company

`Endpoint`

```JS
/api/users/register
```

`Request Payload`

```JSON
{
    "firstname":"Portal",
    "password": "yourstrongpassword",
    "lastname":"Admin",
    "username":"admin",
    "email": "admin@portal.social",
    "company": {"id":"LrlisrzoAppk3"}
}
```

`Response`

- These responses can vary depending on success and failure however, to here we will show the success reponse.

```JSON
{
  "message": "Item successfully created",
  "payload": {
    "id": "iHWO6i7JFTI8Y",
    "created": "2021-04-26T09:06:47.990Z",
    "lastupdated": "2021-04-26T09:06:47.990Z",
    "firstname": "Portal",
    "email": "admin@portal.social",
    "lastname": "Admin",
    "username": "admin",
    "verified": false,
    "enabled": true
  }
}
```

### Adding user roles to user

`Endpoint`

```JS
/api/users/register
```

`Request Payload`

```JSON
{
    "firstname":"Portal",
    "password": "yourstrongpassword",
    "lastname":"Admin",
    "username":"admin",
    "email": "admin@portal.social"
}
```

`Response`

- These responses can vary depending on success and failure however, to here we will show the success reponse.

```JSON
{
  "message": "Item successfully created",
  "payload": {
    "id": "iHWO6i7JFTI8Y",
    "created": "2021-04-26T09:06:47.990Z",
    "lastupdated": "2021-04-26T09:06:47.990Z",
    "firstname": "Portal",
    "email": "admin@portal.social",
    "lastname": "Admin",
    "username": "admin",
    "verified": false,
    "enabled": true
  }
}
```

## Update a user

_Method: PUT_

`Endpoint`

```JS
/api/users
```

`Request Payload`

```JSON
{
  "firstname": "Portal Admin",
  "email": "super@admin.portal",
  "lastname": "Super Admin",
  "username": "admin",
  "enabled": false,
  "token":"logged in user's token"
}
```

`Response`

```JSON
{
  "message": "Item with id FbKroGm4tZuga updated successfully.",
  "payload": {
    "id": "FbKroGm4tZuga",
    "created": "2021-04-26T09:36:10.740Z",
    "lastupdated": "2021-04-26T09:36:10.740Z",
    "firstname": "Portal Admin",
    "email": "super@admin.portal",
    "lastname": "Super Admin",
    "username": "admin",
    "verified": true,
    "enabled": false
  }
}
```

## Delete a user

_Method: DELETE_

`Endpoint`

```JS
/api/users/D67ZA1LulF2kf
```

`Response`

```JSON
{
  "message": "Object with identifier D67ZA1LulF2kf deleted successfully"
}
```

## Check a user's company

_Method: GET_

`Endpoint`

```JS
/api/users/belongstocompany?company=OBiivREPMQ3dm
```

- Where `OBiivREPMQ3dm` is the company ID

`Response on Success`

```JSON
{
  "message": true
}
```

- Response on failure depends on the different criterias with a reponse object of key error with an appropriate message.

## Get Applied Jobs

_METHOD: GET_

- Requires authentication: `YES`

`Endpoint`

```JS
/api/users/appliedJobs
```

`Response on Success`

```JSON
{
  "pager": {
    "page": 1,
    "pageSize": 100,
    "pageCount": 1,
    "total": 1
  },
  "jobs": [
    {
      "id": "AOvMkuzYCKfU4",
      "name": "description",
      "created": "2021-07-05T20:10:34.267Z",
      "lastupdated": "2021-07-05T20:10:34.267Z",
      "description": "description"
    }
  ]
}
```

## Get Created Jobs

_METHOD: GET_

- Requires authentication: `YES`

`Endpoint`

```JS
/api/users/createdJobs
```

`Response on Success`

```JSON
{
  "pager": {
    "page": 1,
    "pageSize": 100,
    "pageCount": 1,
    "total": 1
  },
  "jobs": [
    {
      "id": "AOvMkuzYCKfU4",
      "name": "description",
      "created": "2021-07-05T20:10:34.267Z",
      "lastupdated": "2021-07-05T20:10:34.267Z",
      "description": "description"
    }
  ]
}
```

## Get Saved Jobs

_METHOD: GET_

- Requires authentication: `YES`

`Endpoint`

```JS
/api/users/savedJobs
```

`Response on Success`

```JSON
{
  "pager": {
    "page": 1,
    "pageSize": 100,
    "pageCount": 1,
    "total": 1
  },
  "jobs": [
    {
      "id": "AOvMkuzYCKfU4",
      "name": "description",
      "created": "2021-07-05T20:10:34.267Z",
      "lastupdated": "2021-07-05T20:10:34.267Z",
      "description": "description"
    }
  ]
}
```

## Update user Password

_METHOD: PUT_

- Requires authentication: `YES`

`Endpoint`

```JS
/api/users/passwordupdate
```

`Request Payload`

```JSON
  {
    "oldPassword":"oldPassword",
    "newPassword":"newPassword"
  }
```

`Response on Success`

```JSON
{
  "message": "Your Password has been changed successfully"
}
```

## Upload/Update DP

_METHOD: POST_

- Requires authentication: `YES`

`Endpoint`

```JS
/api/users/dp
```

`Request Payload`

- Only files

`Response on Success`

```JSON
{

  "path": "http://localhost:5000/api/users/K91ziWRDIsGPe.png/dp",
  "message": "Profile picture saved successfully"
}
```

## Upload/Update CV

_METHOD: POST_

- Requires authentication: `YES`

`Endpoint`

```JS
/api/users/cv
```

`Request Payload`

- Only files

`Response on Success`

```JSON
{

  "path": "http://localhost:5000/api/users/K91ziWRDIsGPe.png/cv",
  "message": "CV saved successfully"
}
```

## Call Applicant for interview

_Method: POST_

`Endpoint`

```JS
/api/users/D67ZA1LulF2kf/interview
```

`Request Payload`

```JSON

{
  "job": "u9AGnRS2673yT",
  "date":"2021-10-28T13:00:00",
  "location":"PPF Towers, Dar es Salaam"
}

```

- Where _D67ZA1LulF2kf_ is the user ID and _u9AGnRS2673yT_ is Job ID

`Response`

```JSON
<Bennett Benedict> has been invited for the interview
```

## Reject Applicant's job application

_Method: POST_

`Endpoint`

```JS
/api/users/D67ZA1LulF2kf/reject
```

`Request Payload`

```JSON

{
  "job": "u9AGnRS2673yT"
}

```

- Where _D67ZA1LulF2kf_ is the user ID and _u9AGnRS2673yT_ is Job ID

`Response`

```JSON
<Bennett Benedict's> application has been rejected
```

## Accept Call for interview

_Method: POST_

`Endpoint`

```JS
/api/users/D67ZA1LulF2kf/accept
```

`Request Payload`

```JSON

{
  "job": "u9AGnRS2673yT"
}

```

- Where _D67ZA1LulF2kf_ is the user ID and _u9AGnRS2673yT_ is Job ID

`Response`

```JSON
You have accepted the call for interview for job <description>
```

## Reject Call for interview

_Method: POST_

`Endpoint`

```JS
/api/users/D67ZA1LulF2kf/accept
```

`Request Payload`

```JSON

{
  "job": "u9AGnRS2673yT"
}

```

- Where _D67ZA1LulF2kf_ is the user ID and _u9AGnRS2673yT_ is Job ID

`Response`

```JSON
You have accepted the call for interview for job <description>
```

## Verify User account

_Method: POST_

`Endpoint`

```JS
/api/users/verify
```

`Response`

```JSON
A verification link has been sent to your email account..
```
